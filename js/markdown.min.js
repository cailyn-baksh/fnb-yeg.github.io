function c(e,t){let l=[],s="";for(const n of e)0!==s.length&&s.length%t==0?(l.push(s),s=n):s+=n;return l.push(s),l}function r(e){var t='#*_~`^-—![]()"|:>.)\n';let l=[],s="",n=!1;for(const r of e){var i=s[s.length-1]??"";n?(""!==s&&(l.push(s),s=""),l.push(`&#${r.charCodeAt(0)};`),n=!1):"\\"===r?n=!0:""===s?s=r:t.includes(r)?i===r?s+=r:(l.push(s),s=r):t.includes(i)?(l.push(s),s=r):s+=r}return l.push(s),l}function b(l){if(l.length<3)return null;let s={src:null,alt:null,title:null,offset:0};if("["===l[s.offset]){let e="";for(++s.offset;s.offset<l.length;++s.offset){if("]"===l[s.offset]){s.alt=e;break}e+=l[s.offset]}if(null===s.alt)return null}if(++s.offset,s.offset>l.length)return s;if("("===l[s.offset]){let e=0,t="";for(++s.offset;2!==e&&s.offset<l.length;++s.offset){if(")"===l[s.offset]){0===e&&(s.src=t),e=2;break}if('"'===l[s.offset]){if(0===e){s.src=t,t="",e=1;continue}1===e&&(s.title=t,e=2)}t+=l[s.offset]}}return s}function $(t){if("|"!==t[0])return null;let l=[],s=-1;for(let e=1;e<t.length;++e)if(":"===t[e])-1===s?s=2:++s;else if("-"===t[e][0])-1===s&&(s=0);else{if("|"!==t[e])return null;if(-1===s)return null;switch(s){case 0:l.push("md-table-align-center");break;case 1:l.push("md-table-align-right");break;case 2:l.push("md-table-align-left");break;case 3:l.push("md-table-align-justify")}s=-1}return l}function p(t,l){for(let e=t.length-1;0<=e;--e)if(t[e]===l)return e;return-1}function m(n){let i=[];var e,t,r,h,f=e=>{var t=i.slice(e).join("");i.splice(e,i.length,t)};for(let s=0;s<n.length;++s){let l=n[s];if(l.startsWith("*")){let t;if(2<l.length){let e=c(l,2);var u=p(i,e[0]),o=p(i,e[e.length-1]);t=u<o?(e.reverse(),o):u,n.splice(s,1,...e),l=n[s]}else t=p(i,l);-1!==t?(2===l.length?(i[t]="<b>",i.push("</b>")):(i[t]="<i>",i.push("</i>")),f(t)):i.push(l)}else if(l.startsWith("_")){let t;if(2<l.length){let e=c(l,2);o=p(i,e[0]),u=p(i,e[e.length-1]);t=o<u?(e.reverse(),u):o,n.splice(s,1,...e),l=n[s]}else t=p(i,l);-1!==t?(2===l.length?(i[t]="<u>",i.push("</u>")):(i[t]="<sub>",i.push("</sub>")),f(t)):i.push(l)}else l.startsWith("~~")?(2<l.length&&(n.splice(s,1,...c(l,2)),l=n[s]),-1!==(e=p(i,l))?(i[e]="<s>",i.push("</s>"),f(e)):i.push(l)):l.startsWith("`")?(1<l.length&&(n.splice(s,1,...c(l,1)),l=n[s]),-1!==(e=p(i,l))?(i[e]="<code>",i.push("</code>"),f(e)):i.push(l)):l.startsWith("^")?(1<l.length&&(n.splice(s,1,...c(l,1)),l=n[s]),-1!==(t=p(i,l))?(i[t]="<sup>",i.push("</sup>"),f(t)):i.push(l)):"]"===l||")"===l?(i.push(l),"]"===l&&s+1<n.length&&"("===n[s+1]||(-1===(t=p(i,"["))||0!==t&&"!"===i[t-1]||null===(r=b(i.slice(t)))||null===r.src&&null===r.alt||(h=`<a href="${r.src||r.alt}" title="${r.title??r.src??r.alt}">${r.alt}</a>`,i.splice(t,r.offset+1,h)))):i.push(l)}return i}function h(i){let r=[],h=[],f=-1;var u=e=>{let t=0;for(;0<h.length;)r.splice(e,0,`</${h.pop()}>`),++t;return t},o=e=>{var t=r.slice(e).join("");r.splice(e,r.length,t)};let c;for(let s=0;s<i.length;++s){let e=i[s];if(e.startsWith("\n")){if(0!==r.length){let t=(()=>{for(let e=r.length-1;0<=e;--e)if(r[e].includes("\n"))return e;return-1})(),l=0,n=null;for(let e=t+1;e<r.length;++e){if(!r[e].split("").every(e=>" \t".includes(e))){n=e;break}l+=r[e].length}if(null!==(firstToken=r[n])&&void 0!==firstToken){if(firstToken.startsWith("#")){n+=u(n);var p=firstToken.length<=6?firstToken.length:6,p=(r[n]=`<h${p}>`,r.push(`</h${p}>`),m(r.slice(n)));r.splice(n,r.length,...p),o(t+1)}else if("!"===firstToken){if(r.length-t<5)continue;n+=u(n);p=b(r.slice(n+1));if(null===p.src||null===p.alt)continue;var a=`<img src="${p.src}" alt="${p.alt}" title="${p.title??p.alt}" />`;r.splice(n,p.offset+2,a)}else if(">"===firstToken)0!==h.length&&"blockquote"!==h[h.length-1]&&(n+=u(n)),0===h.length?(r[n]='<figure class="bq"><blockquote>',h.push("figure"),h.push("blockquote")):r[n]="<br>";else if("--"!==firstToken&&"—"!==firstToken||0===h.length||"blockquote"!==h[h.length-1])if("-"===firstToken||"*"===firstToken||"—"===firstToken){if(0!==h.length&&"ol"!==h[h.length-1]&&"ul"!==h[h.length-1]&&(a=u(t),n+=a,t+=a),l>f||0===h.length){let e="";"*"!==firstToken&&(e='class="list-dashed"'),r.splice(n,0,`<ul ${e}>`),++n,h.push("ul"),f=l}else if(l<f)r.splice(n,0,`</${h.pop()}>`),++n,f=l;else if("ol"===h[h.length-1]){let e="";"*"!==firstToken&&(e='class="list-dashed"'),r.splice(n,0,`</${h.pop()}><ul ${e}">`),++n,h.push("ul")}r[n]="<li>",r.push("</li>");var g=m(r.slice(n+1));r.splice(n+1,r.length,...g),o(n)}else if(r.length>n&&".)".includes(r[n+1])&&null!==(c=((e,t)=>{let l;if(e.split("").every(e=>"ivxlcdm".includes(e)))l="lower-roman";else if(e.split("").every(e=>"IVXLCDM".includes(e)))l="upper-roman";else if(1===e.length&&65<=e.charCodeAt(0)&&e.charCodeAt(0)<=90)l="upper-latin";else if(1===e.length&&97<=e.charCodeAt(0)&&e.charCodeAt(0)<=122)l="lower-latin";else{if(!e.split("").every(e=>48<=e.charCodeAt(0)&&e.charCodeAt(0)<=57))return null;l="arabic"}if(")"===t)l+="-paren";else if("."!==t)return null;return l})(firstToken.trimStart(),r[n+1]))){0!==h.length&&"ol"!==h[h.length-1]&&"ul"!==h[h.length-1]&&(g=u(t),n+=g,t+=g),(l+=firstToken.length-firstToken.trimStart().length)>f||0===h.length?(r.splice(n,0,`<ol class="${c}">`),++n,h.push("ol"),f=l):l<f?(r.splice(n,0,`</${h.pop()}>`),++n,f=l):"ul"===h[h.length-1]&&(r.splice(n,0,`</${h.pop()}><ol class="${c}">`),++n,h.push("ol")),r[n]="<li>",r.push("</li>"),r.splice(n+1,1);var d=m(r.slice(n+1));r.splice(n+1,r.length,...d),o(n)}else if(firstToken.startsWith("---")&&r.slice(n).every(e=>e.split("").every(e=>"-"===e)))n+=u(n),r.splice(n,r.length,"<hr />");else{if(-1!==t&&1===e.length&&s+1!==i.length&&0===h.length){r.push("");continue}if(n+=u(n),"|"===r[n]){let t=r.slice(n),s=[];for(;0<t.length;){let e=[];for(;e.push(t.shift()),""!==e[e.length-1]&&0<t.length;);s.push(e.filter(e=>!e.split("").every(e=>" \t".includes(e))))}if(3<s.length&&s[1].join("").split("").every(e=>"|:-".includes(e))){var k=$(s[1]);if(null!==k){r.splice(n,r.length),r.push(`<table><thead><tr><th class="${k[0]}">`);for(let e=1,t=1;e<s[0].length-1;++e)"|"===s[0][e]?(r.push(`</th><th class="${k[t]}">`),++t):r.push(s[0][e]);r.push("</th></tr></thead><tbody>");for(let l=2;l<s.length;++l){r.push(`<tr><td class="${k[0]}">`);for(let e=1,t=1;e<s[l].length-1;++e)"|"===s[l][e]?(r.push(`</td><td class="${k[t]}">`),++t):r.push(s[l][e]);r.push("</td></tr>")}r.push("</tbody></table>");d=m(r.slice(n));r.splice(n,r.length,...d),o(n),r.push("\n");continue}}}r.splice(n,0,"<p>"),r.push("</p>");var v=m(r.slice(n));r.splice(n,r.length,...v),o(n)}else{r[n]=`</${h.pop()}><figcaption>`,r.push("</figcaption>");v=m(r.slice(n));r.splice(n,r.length,...v),o(n),u(r.length)}r.push("\n")}}}else r.push(e)}return r.join("")}document.addEventListener("DOMContentLoaded",async()=>{for(const i of document.querySelectorAll("pre.markdown"))if(!(!i instanceof HTMLElement)){let e,t=(e="src"in i.dataset?await fetch(i.dataset.src).then(e=>e.text()):i.textContent,document.createElement("div")),l=(t.classList+="card",document.createElement("div")),s=(l.classList+="card-body",t.appendChild(l),document.createElement("div"));s.classList+="markdown",l.appendChild(s);var n=r(e);s.innerHTML=h(n),i.parentNode.replaceChild(t,i)}});
